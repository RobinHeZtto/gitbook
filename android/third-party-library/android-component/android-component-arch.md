# 组件化-架构

**单一工程模式**

移动开发诞生，我们开发移动项目使用的是Eclipse，大多用的是单工程单任务的开发模式，二话不说，直接就开始new Project -> 分包 -> 写起。移动互联网开发初期，各种业务刚起步，项目都偏小，各种业务场景都还没有绑定到移动APP上。

**模块化**

Android Studio出来后，才有了Project，Module的概念。当时以包的形式分离的公共包common，现在成了AS中的Module。Module包含两种格式: application， library。也就是说，一个Module就是一个小的项目，也是AS概念中的模块。因此我们开始设计common模块， common\_business模块，甚至db模块。模块的好处是什么？ 相比于包来讲，模块更灵活，耦合更低，随意插拔，想引入哪个就引入哪&#x4E2A;**。**&#x6839;据不同的关注点，将一个项目的可以共享的部分抽取出来，形成独立的Module，就是模块化。模块化不只包含公共部分，当然也可以是业务模块。

**组件化**

随着我们的业务越来越复杂，多个模块之间的耦合依赖也变的十分复杂，所以出现了模块分层设计，高层单向依赖底层，抽离组件。

* **组件，跟模块相比粒度更小，关注的是复用**
* **模块，跟组件相比粒度更大，关注的是解耦**

常见的架构分层中，可能会分成业务模块层，业务组件层，基础组件层，单个业务模块层可能包括多个业务组件或基础组件。

#### 为什么要组件化 <a href="#wei-shi-mo-yao-zu-jian-hua" id="wei-shi-mo-yao-zu-jian-hua"></a>

近年来，为什么这么多团队要进行组件化实践呢？组件化究竟能给我们的工程、代码带来什么好处？

**提高组件复用性**

可能有些人会觉得，提高复用性很简单，直接把需要复用的代码做成Android Module，打包AAR并上传代码仓库，那么这部分功能就能被方便地引入和使用。但是我们觉得仅仅这样是不够的，上传仓库的AAR库是否方便被复用，需要组件化的规则来约束，这样才能提高复用的便捷性。

**降低组件间的耦合**

我们需要通过组件化的规则把代码拆分成不同的模块，模块要做到高内聚、低耦合。模块间也不能直接调用，这需要组件化通信框架的支持。降低了组件间的耦合性可以带来两点直接的好处：第一，代码更便于维护；第二，降低了模块的Bug率。

**提高编译速度**

大型项目可以通过组件打包成AAR、JAR集成的方式提高编译速度

**多人/多团队开发更加高效**

组件单独开发，多人、多团队开发时可以避免冲突，另外还可单独运行组件的形式调试

![](<../../../.gitbook/assets/image (214).png>)
